{"version":3,"sources":["webpack:///./src/components/prefectInfo/index.vue?b6ec","webpack:///src/components/prefectInfo/index.vue","webpack:///./src/components/prefectInfo/index.vue?b0ef","webpack:///./src/components/prefectInfo/index.vue","webpack:///./src/components/prefectInfo/index.vue?ca77","webpack:///./src/views/add.vue?8a86","webpack:///src/views/add.vue","webpack:///./src/views/add.vue?fc3f","webpack:///./src/views/add.vue","webpack:///./src/views/add.vue?94ed","webpack:///./src/components/basicInfo/index.vue?075b","webpack:///src/components/basicInfo/index.vue","webpack:///./src/components/basicInfo/index.vue?77e5","webpack:///./src/components/basicInfo/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","data","rules","labelCol","wrapperCol","model","value","callback","$$v","$set","expression","fileList","on","handlePreview","handleChange","length","_v","_e","previewVisible","handleCancel","staticStyle","previewImage","span","offset","handleClick","submit","staticRenderFns","getBase64","file","Promise","reader","readAsDataURL","onload","onerror","props","other","result","price","inventory","unit","created","images","map","methods","$emit","resetCate","c_item","component","current","_l","item","key","title","dataList","next","prev","addSubmit","steps","desc","category","tags","price_off","components","basicInfo","prefectInfo","mounted","$refs","name","onFieldBlur","changeCategory","id","_s","index","cateData","categoryItems","i","c_items","ruleForm","validate","console","log","valid","alert"],"mappings":"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","file":"js/chunk-a363800a.824b835b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"prefectInfo\"},[_c('a-form-model',{ref:\"ruleForm\",attrs:{\"model\":_vm.data,\"rules\":_vm.rules,\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('a-form-model-item',{attrs:{\"has-feedback\":\"\",\"label\":\"商品价格\",\"prop\":\"price\"}},[_c('a-input',{model:{value:(_vm.data.price),callback:function ($$v) {_vm.$set(_vm.data, \"price\", $$v)},expression:\"data.price\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"折扣价格\",\"prop\":\"price_off\"}},[_c('a-input',{model:{value:(_vm.data.price_off),callback:function ($$v) {_vm.$set(_vm.data, \"price_off\", $$v)},expression:\"data.price_off\"}})],1),_c('a-form-model-item',{attrs:{\"has-feedback\":\"\",\"label\":\"商品库存\",\"prop\":\"inventory\"}},[_c('a-input',{model:{value:(_vm.data.inventory),callback:function ($$v) {_vm.$set(_vm.data, \"inventory\", $$v)},expression:\"data.inventory\"}})],1),_c('a-form-model-item',{attrs:{\"has-feedback\":\"\",\"label\":\"计量单位\",\"prop\":\"unit\"}},[_c('a-input',{model:{value:(_vm.data.unit),callback:function ($$v) {_vm.$set(_vm.data, \"unit\", $$v)},expression:\"data.unit\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"商品相册\"}},[_c('a-upload',{attrs:{\"list-type\":\"picture-card\",\"file-list\":_vm.fileList},on:{\"preview\":_vm.handlePreview,\"change\":_vm.handleChange}},[(_vm.fileList.length < 8)?_c('div',[_c('a-icon',{attrs:{\"type\":\"plus\"}}),_c('div',{staticClass:\"ant-upload-text\"},[_vm._v(\"Upload\")])],1):_vm._e()]),_c('a-modal',{attrs:{\"visible\":_vm.previewVisible,\"footer\":null},on:{\"cancel\":_vm.handleCancel}},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"alt\":\"example\",\"src\":_vm.previewImage}})])],1),_c('a-form-model-item',{attrs:{\"wrapper-col\":{ span: 14, offset: 4 }}},[_c('a-button',{staticClass:\"btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleClick}},[_vm._v(\" 上一步 \")]),_c('a-button',{staticClass:\"btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\" 提交 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"prefectInfo\">\n    <a-form-model\n      ref=\"ruleForm\"\n      :model=\"data\"\n      :rules=\"rules\"\n      :label-col=\"labelCol\"\n      :wrapper-col=\"wrapperCol\"\n    >\n      <a-form-model-item has-feedback label=\"商品价格\" prop=\"price\">\n        <a-input v-model=\"data.price\" />\n      </a-form-model-item>\n      <a-form-model-item label=\"折扣价格\" prop=\"price_off\">\n        <a-input v-model=\"data.price_off\" />\n      </a-form-model-item>\n      <a-form-model-item has-feedback label=\"商品库存\" prop=\"inventory\">\n        <a-input v-model=\"data.inventory\" />\n      </a-form-model-item>\n      <a-form-model-item has-feedback label=\"计量单位\" prop=\"unit\">\n        <a-input v-model=\"data.unit\" />\n      </a-form-model-item>\n      <a-form-model-item label=\"商品相册\">\n        <a-upload\n          list-type=\"picture-card\"\n          :file-list=\"fileList\"\n          @preview=\"handlePreview\"\n          @change=\"handleChange\"\n        >\n          <div v-if=\"fileList.length < 8\">\n            <a-icon type=\"plus\" />\n            <div class=\"ant-upload-text\">Upload</div>\n          </div>\n        </a-upload>\n        <a-modal\n          :visible=\"previewVisible\"\n          :footer=\"null\"\n          @cancel=\"handleCancel\"\n        >\n          <img alt=\"example\" style=\"width: 100%\" :src=\"previewImage\" />\n        </a-modal>\n      </a-form-model-item>\n      <a-form-model-item :wrapper-col=\"{ span: 14, offset: 4 }\">\n        <a-button class=\"btn\" type=\"primary\" @click=\"handleClick\">\n          上一步\n        </a-button>\n        <a-button class=\"btn\" type=\"primary\" @click=\"submit\"> 提交 </a-button>\n      </a-form-model-item>\n    </a-form-model>\n  </div>\n</template>\n\n<script>\n\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = (error) => reject(error);\n  });\n}\nexport default {\n  props: ['data'],\n  data() {\n    return {\n      previewVisible: false,\n      previewImage: '',\n      fileList: [],\n      labelCol: { span: 4 },\n      wrapperCol: { span: 14 },\n      other: '',\n      result: '',\n      rules: {\n        price: [\n          { required: true, message: '请填写商品价格', trigger: 'change' },\n        ],\n        inventory: [\n          { required: true, message: '请填写商品价格', trigger: 'change' },\n        ],\n        unit: [\n          { required: true, message: '请填写商品价格', trigger: 'change' },\n        ],\n      },\n    };\n  },\n  created() {\n    this.fileList = this.data.images.map((item, index) => ({\n      uid: `${index}`,\n      name: `image${index}.png`,\n      status: 'done',\n      url: item,\n    }));\n  },\n  methods: {\n    submit() {\n      const images = this.fileList.map((item) => item.url);\n      this.$emit('submit', { ...this.data, images });\n    },\n    resetCate() {\n      this.data.c_item = '';\n    },\n    handleClick() {\n      this.$emit('prev');\n    },\n    handleCancel() {\n      this.previewVisible = false;\n    },\n    async handlePreview(file) {\n      if (!file.url && !file.preview) {\n        // eslint-disable-next-line no-param-reassign\n        file.preview = await getBase64(file.originFileObj);\n      }\n      this.previewImage = file.url || file.preview;\n      this.previewVisible = true;\n    },\n    handleChange({ fileList }) {\n      this.fileList = fileList;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.prefectInfo {\n  .btn {\n    margin: 10px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1c60b2c1&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1c60b2c1&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c60b2c1\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1c60b2c1&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addProduct\"},[_c('a-steps',{staticClass:\"steps\",attrs:{\"current\":_vm.current}},_vm._l((_vm.steps),function(item){return _c('a-step',{key:item.title,attrs:{\"title\":item.title}})}),1),_c('div',{staticClass:\"steps-content\"},[(this.current == 0)?_c('basicInfo',{attrs:{\"data\":this.dataList},on:{\"next\":_vm.next}}):(this.current == 1)?_c('prefectInfo',{attrs:{\"data\":this.dataList},on:{\"prev\":_vm.prev,\"submit\":_vm.addSubmit}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"addProduct\">\n    <a-steps :current=\"current\" class=\"steps\">\n      <a-step v-for=\"item in steps\" :key=\"item.title\" :title=\"item.title\" />\n    </a-steps>\n    <div class=\"steps-content\">\n      <basicInfo :data=\"this.dataList\" v-if=\"this.current == 0\" @next=\"next\" />\n      <prefectInfo\n        :data=\"this.dataList\"\n        v-else-if=\"this.current == 1\"\n        @prev=\"prev\"\n        @submit=\"addSubmit\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport basicInfo from '@/components/basicInfo/index.vue';\nimport prefectInfo from '@/components/prefectInfo/index.vue';\nimport { addProduct } from '@/api/request';\n\nexport default {\n  data() {\n    return {\n      current: 0,\n      steps: [\n        {\n          title: '填写基本信息',\n        },\n        {\n          title: '完善商品信息',\n        },\n      ],\n      dataList: {\n        title: '',\n        desc: '',\n        category: null,\n        c_item: [],\n        tags: [],\n        price: 0,\n        price_off: 0,\n        unit: '',\n        inventory: 0,\n        images: [],\n      },\n    };\n  },\n  components: {\n    basicInfo,\n    prefectInfo,\n  },\n  mounted() {\n  },\n  methods: {\n    next(data) {\n      this.dataList = { ...this.dataList, ...data };\n      this.current += 1;\n    },\n    prev() {\n      this.current -= 1;\n    },\n    async addSubmit(data) {\n      await addProduct({ ...data }).then((res) => {\n        if (res.status === 'success') {\n          alert('提交成功');\n          console.log(res);\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.addProduct {\n  width: 60%;\n  height: 100%;\n  margin: 0 auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add.vue?vue&type=template&id=e0bdfa36&scoped=true&\"\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&id=e0bdfa36&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e0bdfa36\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add.vue?vue&type=style&index=0&id=e0bdfa36&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"basicInfo\"},[_c('a-form-model',{ref:\"ruleForm\",attrs:{\"model\":_vm.data,\"label-col\":_vm.labelCol,\"wrapper-col\":_vm.wrapperCol}},[_c('a-form-model-item',{ref:\"name\",attrs:{\"has-feedback\":\"\",\"label\":\"标题\",\"prop\":\"title\",\"required\":\"\"}},[_c('a-input',{on:{\"blur\":function () {\n            _vm.$refs.name.onFieldBlur()\n          }},model:{value:(_vm.data.title),callback:function ($$v) {_vm.$set(_vm.data, \"title\", $$v)},expression:\"data.title\"}})],1),_c('a-form-model-item',{ref:\"desc\",attrs:{\"has-feedback\":\"\",\"label\":\"商品描述\",\"prop\":\"desc\",\"required\":\"\"}},[_c('a-input',{model:{value:(_vm.data.desc),callback:function ($$v) {_vm.$set(_vm.data, \"desc\", $$v)},expression:\"data.desc\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"商品类别\",\"prop\":\"category\",\"required\":\"\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择子类目\"},on:{\"change\":_vm.changeCategory},model:{value:(_vm.data.category),callback:function ($$v) {_vm.$set(_vm.data, \"category\", $$v)},expression:\"data.category\"}},_vm._l((_vm.cateData),function(item){return _c('a-select-option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1),_c('a-select',{attrs:{\"placeholder\":\"请选择子类目\"},model:{value:(_vm.data.c_item),callback:function ($$v) {_vm.$set(_vm.data, \"c_item\", $$v)},expression:\"data.c_item\"}},_vm._l((_vm.categoryItems),function(item){return _c('a-select-option',{key:item,attrs:{\"value\":item}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),1)],1),_c('a-form-model-item',{attrs:{\"label\":\"商品标签\",\"prop\":\"tags\"}},[_c('a-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"mode\":\"tags\",\"placeholder\":\"标签\"},model:{value:(_vm.data.tags),callback:function ($$v) {_vm.$set(_vm.data, \"tags\", $$v)},expression:\"data.tags\"}},_vm._l((_vm.data.tags),function(item,index){return _c('a-select-option',{key:index,attrs:{\"value\":item}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),1)],1),_c('a-form-model-item',{attrs:{\"wrapper-col\":{ span: 14, offset: 4 }}},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleClick}},[_vm._v(\" 下一步 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"basicInfo\">\n    <a-form-model\n      :model=\"data\"\n      ref=\"ruleForm\"\n      :label-col=\"labelCol\"\n      :wrapper-col=\"wrapperCol\"\n    >\n      <a-form-model-item\n        has-feedback\n        ref=\"name\"\n        label=\"标题\"\n        prop=\"title\"\n        required\n      >\n        <a-input\n          v-model=\"data.title\"\n          @blur=\"\n            () => {\n              $refs.name.onFieldBlur()\n            }\n          \"\n        />\n      </a-form-model-item>\n      <a-form-model-item\n        has-feedback\n        ref=\"desc\"\n        label=\"商品描述\"\n        prop=\"desc\"\n        required\n      >\n        <a-input v-model=\"data.desc\" />\n      </a-form-model-item>\n      <a-form-model-item label=\"商品类别\" prop=\"category\" required>\n        <a-select\n          v-model=\"data.category\"\n          placeholder=\"请选择子类目\"\n          @change=\"changeCategory\"\n        >\n          <a-select-option\n            :value=\"item.id\"\n            v-for=\"item in cateData\"\n            :key=\"item.id\"\n          >\n            {{ item.name }}\n          </a-select-option>\n        </a-select>\n        <a-select v-model=\"data.c_item\" placeholder=\"请选择子类目\">\n          <a-select-option\n            :value=\"item\"\n            v-for=\"item in categoryItems\"\n            :key=\"item\"\n          >\n            {{ item }}\n          </a-select-option>\n        </a-select>\n      </a-form-model-item>\n      <a-form-model-item label=\"商品标签\" prop=\"tags\">\n        <a-select\n          mode=\"tags\"\n          style=\"width: 100%\"\n          placeholder=\"标签\"\n          v-model=\"data.tags\"\n        >\n          <a-select-option\n            v-for=\"(item, index) in data.tags\"\n            :key=\"index\"\n            :value=\"item\"\n          >\n            {{ item }}\n          </a-select-option>\n        </a-select>\n      </a-form-model-item>\n      <a-form-model-item :wrapper-col=\"{ span: 14, offset: 4 }\">\n        <a-button type=\"primary\" @click=\"handleClick\"> 下一步 </a-button>\n      </a-form-model-item>\n    </a-form-model>\n  </div>\n</template>\n\n<script>\nimport { getCategory } from '@/api/request';\n\nexport default {\n  props: ['data'],\n  data() {\n    return {\n      labelCol: { span: 4 },\n      wrapperCol: { span: 14 },\n      other: '',\n      result: '',\n      rules: {\n      },\n      cateData: [],\n      categoryItems: [],\n    };\n  },\n  created() {\n    getCategory().then((res) => { this.cateData = res.data.data; console.log(res); });\n  },\n  methods: {\n    changeCategory(category) {\n      for (let i = 0; i < this.cateData.length; i += 1) {\n        if (this.cateData[i].id === category) {\n          this.categoryItems = this.cateData[i].c_items;\n        }\n      }\n    },\n    handleClick() {\n      this.$refs.ruleForm.validate((valid) => {\n        console.log(valid);\n        if (valid) {\n          this.$emit('next', this.data);\n          return true;\n        }\n        alert('填写有误!!');\n        return false;\n      });\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b63ef6ee&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}